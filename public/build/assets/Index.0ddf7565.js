import{P as B}from"./ProductCard.60652714.js";import{_ as F,r as f,o,c as l,b as t,F as c,g as u,h as p,t as a,i as g,f as x,d as w,w as y,j as v,v as m,k as P,n as C}from"./app.a33da237.js";const L={name:"Index",components:{ProductCard:B},mounted(){$(document).trigger("changed"),this.getFilterList(this.getProductsByFilter),this.getTopBreweries()},methods:{getTopBreweries(){this.axios.get("http://shop/api/top-breweries").then(r=>{this.topBreweries=r.data.data}).finally(r=>{$(document).trigger("changed")})},getProductsByFilter(r=1){let s=$("#priceRange").val();s=s.slice(0,s.length-4).split(" - "),this.axios.post("http://shop/api/products/filter",{sorted_by:this.sortBy,categories:this.categories,tags:this.tags,prices:s,breweries:this.breweries,page:r}).then(h=>{this.products=h.data.data,this.pagination=h.data.meta,this.notFullLinks=this.pagination.links.slice(1,-1)}).finally(h=>{$(document).trigger("changed")})},getFilterList(r){this.axios.get("http://shop/api/filters").then(s=>{this.filterList=s.data,$("#price-range").length&&($("#price-range").slider({range:!0,min:this.filterList.price.min,max:this.filterList.price.max,values:[this.filterList.price.min,this.filterList.price.max],slide:function(h,_){$("#priceRange").val(_.values[0]+" - "+_.values[1]+" \u0440\u0443\u0431")}}),$("#priceRange").val($("#price-range").slider("values",0)+" - "+$("#price-range").slider("values",1)+" \u0440\u0443\u0431"),r())}).finally(s=>{$(document).trigger("initFilters")})}},data(){return{topBreweries:[],products:[],filterList:[],categories:[],tags:[],prices:[],breweries:[],pagination:[],notFullLinks:[],sortBy:"1"}}},U={class:"overflow-hidden"},I=x('<div class="breadcrumb-area" style="background-image:url(http://localhost:5173/src/assets/images/products-grid/Frame1.png);"><div class="container"><div class="row"><div class="col-xl-12"><div class="breadcrumb-content pb-60 text-center wow fadeInUp animated"><h2>Shop Grid</h2><div class="breadcrumb-menu"><ul><li><a href="index.html"><i class="flaticon-home pe-2"></i>Home</a></li><li><i class="flaticon-next"></i></li><li class="active">Shop Grid</li></ul></div></div></div></div></div></div>',1),A={class:"product-categories-one pb-60"},S={class:"container"},V={class:"row wow fadeInUp animated"},j={class:"col-xl-12"},D={class:"product-categories-one__inner"},R={class:"inner"},N=["src"],Z={class:"title"},T={class:"product-grid pt-60 pb-120"},G={class:"container"},M={class:"row gx-4"},z={class:"col-xl-3 col-lg-4"},E={class:"shop-grid-sidebar"},H=t("button",{class:"remove-sidebar d-lg-none d-block"},[t("i",{class:"flaticon-cross"})],-1),q={class:"sidebar-holder"},J={class:"single-sidebar-box mt-30 wow fadeInUp animated"},K=t("h4",null,"Select Categories",-1),O={class:"checkbox-item"},Q={class:"form-group"},W=["value","id"],X=["for"],Y={class:"single-sidebar-box mt-30 wow fadeInUp animated"},tt=t("h4",null,"Select Breweries",-1),et={class:"checkbox-item"},st={class:"form-group"},it=["value","id"],ot=["for"],lt=x('<div class="single-sidebar-box mt-30 wow fadeInUp animated"><h4>Filter By Price</h4><div class="slider-box"><div id="price-range" class="slider"></div><div class="output-price"><label for="priceRange">Price:</label><input type="text" id="priceRange" readonly></div></div></div>',1),nt={class:"single-sidebar-box mt-30 wow fadeInUp animated"},at=t("h4",null,"Tags",-1),rt={class:"checkbox-item"},dt={class:"form-group"},ct=["value","id"],ut=["for"],ht={class:"slider-box"},pt={class:"col-xl-9 col-lg-8"},_t={class:"row"},gt={class:"col-xl-12"},vt={class:"shop-grid-page-top-info p-0 justify-content-md-between justify-content-center"},mt={class:"left-box wow fadeInUp animated"},bt={class:"right-box justify-content-md-between justify-content-center wow fadeInUp animated"},ft={class:"short-by"},wt={class:"select-box"},yt=t("select",{class:"wide",display:"none"},[t("option",{"data-display":"Short by latest"},"Featured"),t("option",{value:"1"},"Best selling"),t("option",{value:"2"},"Alphabetically, A-Z"),t("option",{value:"3"},"Alphabetically, Z-A"),t("option",{value:"3"},"Price, low to high"),t("option",{value:"3"},"Price, high to low"),t("option",{value:"3"},"Date, old to new")],-1),xt={class:"nice-select wide",tabindex:"0"},kt=t("span",{class:"current"},"Date, new to old",-1),Bt={class:"list"},Ft={class:"row"},Pt={class:"col-12"},Ct={class:"tab-content",id:"pills-tabContent"},Lt={class:"tab-pane fade show active",id:"pills-grid",role:"tabpanel","aria-labelledby":"pills-grid-tab"},Ut={class:"row"},It={class:"row"},At={key:0,class:"col-12 d-flex justify-content-center wow fadeInUp animated"},St={class:"pagination text-center"},Vt={key:0,class:"next"},jt=t("i",{class:"flaticon-left-arrows","aria-hidden":"true"},null,-1),Dt=[jt],Rt=["onClick"],Nt={key:1,class:"next"},Zt=t("i",{class:"flaticon-arrow-right"},null,-1),Tt=[Zt];function Gt(r,s,h,_,i,n){const b=f("router-link"),k=f("product-card");return o(),l("main",U,[I,t("section",A,[t("div",S,[t("div",V,[t("div",j,[t("div",D,[t("ul",null,[(o(!0),l(c,null,u(i.topBreweries,e=>(o(),l("li",null,[w(b,{to:{name:"brewery.show",params:{id:e.id}},class:"img-box"},{default:y(()=>[t("div",R,[t("img",{src:e.logo,alt:""},null,8,N)])]),_:2},1032,["to"]),t("div",Z,[w(b,{to:{name:"brewery.show",params:{id:e.id}}},{default:y(()=>[t("h6",null,a(e.title),1)]),_:2},1032,["to"])])]))),256))])])])])])]),t("div",T,[t("div",G,[t("div",M,[t("div",z,[t("div",E,[H,t("div",q,[t("div",J,[K,t("div",O,[t("form",null,[(o(!0),l(c,null,u(i.filterList.categories,e=>(o(),l("div",Q,[v(t("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>i.categories=d),value:e.id,type:"checkbox",id:e.id+"category"},null,8,W),[[m,i.categories]]),t("label",{for:e.id+"category"},a(e.title),9,X)]))),256))])])]),t("div",Y,[tt,t("div",et,[t("form",null,[(o(!0),l(c,null,u(i.filterList.breweries,e=>(o(),l("div",st,[v(t("input",{"onUpdate:modelValue":s[1]||(s[1]=d=>i.breweries=d),value:e.id,type:"checkbox",id:e.id+"brewery"},null,8,it),[[m,i.breweries]]),t("label",{for:e.id+"brewery"},a(e.title),9,ot)]))),256))])])]),lt,t("div",nt,[at,t("div",rt,[(o(!0),l(c,null,u(i.filterList.tags,e=>(o(),l("div",dt,[v(t("input",{"onUpdate:modelValue":s[2]||(s[2]=d=>i.tags=d),value:e.id,type:"checkbox",id:e.id+"tag"},null,8,ct),[[m,i.tags]]),t("label",{for:e.id+"tag"},a(e.title),9,ut)]))),256))]),t("div",ht,[t("button",{class:"filterbtn",type:"submit",onClick:s[3]||(s[3]=p((...e)=>n.getProductsByFilter&&n.getProductsByFilter(...e),["prevent"]))}," Filter")])])])])]),t("div",pt,[t("div",_t,[t("div",gt,[t("div",vt,[t("div",mt,[t("p",null,"Showing "+a(i.pagination.from)+" - "+a(i.pagination.to)+" of "+a(i.pagination.total)+" Results",1)]),t("div",bt,[t("div",ft,[t("div",wt,[yt,t("div",xt,[kt,t("ul",Bt,[t("li",{"data-value":"1",class:"option selected",onClick:s[4]||(s[4]=e=>{i.sortBy=1,n.getProductsByFilter()})},"Date, new to old"),t("li",{"data-value":"2",class:"option",onClick:s[5]||(s[5]=e=>{i.sortBy=2,n.getProductsByFilter()})},"Date, old to new"),t("li",{"data-value":"3",class:"option",onClick:s[6]||(s[6]=e=>{i.sortBy=3,n.getProductsByFilter()})},"Alphabetically, A-Z"),t("li",{"data-value":"4",class:"option",onClick:s[7]||(s[7]=e=>{i.sortBy=4,n.getProductsByFilter()})},"Alphabetically, Z-A"),t("li",{"data-value":"5",class:"option",onClick:s[8]||(s[8]=e=>{i.sortBy=5,n.getProductsByFilter()})},"Price, low to high"),t("li",{"data-value":"6",class:"option",onClick:s[9]||(s[9]=e=>{i.sortBy=6,n.getProductsByFilter()})},"Price, high to low")])])])])])])])]),t("div",Ft,[t("div",Pt,[t("div",Ct,[t("div",Lt,[t("div",Ut,[(o(!0),l(c,null,u(i.products,e=>(o(),P(k,{product:e},null,8,["product"]))),256))])])])])]),t("div",It,[this.pagination.length!=0?(o(),l("div",At,[t("ul",St,[this.pagination.current_page!=1?(o(),l("li",Vt,[t("a",{onClick:s[10]||(s[10]=p(e=>n.getProductsByFilter(1),["prevent"]))},Dt)])):g("",!0),(o(!0),l(c,null,u(this.notFullLinks,e=>(o(),l("li",null,[t("a",{onClick:p(d=>n.getProductsByFilter(e.label),["prevent"]),class:C(e.active?"active":null)},a(e.label),11,Rt)]))),256)),this.pagination.current_page!=this.pagination.links.length-2?(o(),l("li",Nt,[t("a",{onClick:s[11]||(s[11]=p(e=>n.getProductsByFilter(this.pagination.links[this.pagination.links.length-2].label),["prevent"]))},Tt)])):g("",!0)])])):g("",!0)])])])])])])}const Et=F(L,[["render",Gt]]);export{Et as default};
